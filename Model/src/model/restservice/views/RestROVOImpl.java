package model.restservice.views;

import java.util.Map;

import model.AppModuleImpl;


import model.restservice.views.common.RestROVO;

import model.utils.FileOperations;

import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu May 31 23:21:13 EDT 2018
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class RestROVOImpl extends ViewObjectImpl implements RestROVO {
    /**
     * This is the default constructor (do not remove).
     */
    public RestROVOImpl() {
    }
    
    public String contractApprovalRejectFlow(String uuId, String userType, String action){
       AppModuleImpl appModule = (AppModuleImpl)this.getDBTransaction().getRootApplicationModule();
       Map pdf = appModule.fetchPDFXML(uuId, userType, action);
        if(null!=pdf && pdf.size()>1){
            FileOperations.genPdfRep(String.valueOf(pdf.get("XML")).getBytes(), FileOperations.getRTFAsInputStream(String.valueOf(pdf.get("TEMPLATE_NAME"))));
            if(pdf.size()==4)
                FileOperations.genPdfRep(String.valueOf(pdf.get("COVER_SHEET_XML")).getBytes(), FileOperations.getRTFAsInputStream(String.valueOf(pdf.get("COVER_SHEET_TEMPLATE_NAME"))));
        }
       return null;
    }
}

